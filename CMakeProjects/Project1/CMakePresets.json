{
    "version": 2,
    "cmakeMinimumRequired": {
        "major": 3,
        "minor": 20,
        "patch": 0
    },
    "configurePresets": [
        {
            "name": "Default",
            "hidden": true,
            "displayName": "Default Config",
            "description": "Default build ",
            "binaryDir": "C:/out/Cache/${sourceDirName}/${presetName}",
            "cacheVariables": {
                "CMAKE_CXX_STANDARD": "17",
                "CMAKE_CXX_STANDARD_REQUIRED": "ON",
                "CMAKE_OBJECT_PATH_MAX": "1024",
                "CMAKE_INSTALL_PREFIX": {
                    "type": "FILEPATH",
                    "value": "C:/out/Install"
                },
                "CMAKE_ARCHIVE_OUTPUT_DIRECTORY": {
                    "type": "FILEPATH",
                    "value": "C:/out/Lib/${presetName}"
                },
                "CMAKE_LIBRARY_OUTPUT_DIRECTORY": {
                    "type": "FILEPATH",
                    "value": "C:/out/Lib/${presetName}"
                },
                "CMAKE_RUNTIME_OUTPUT_DIRECTORY": {
                    "type": "FILEPATH",
                    "value": "C:/out/Bin/${presetName}"
                },
                "CMAKE_MESSAGE_LOG_LEVEL": "NOTICE"
            },
            "environment": {
                "CXXFLAGS_Default": "$penv{CXXFLAGS} -flto",
                "DEBUG": "-DTW_DEBUG=1",
                "RELEASE": "-DTW_DEBUG=0"
            }
        },
        {
            "name": "Ninja",
            "hidden": true,
            "displayName": "Ninja Config",
            "description": "Default build using Ninja generator",
            "generator": "Ninja Multi-Config",
            "cacheVariables": {
                "CMAKE_CONFIGURATION_TYPES": "Debug;Release"
            }
        },
        {
            "name": "Windows",
            "hidden": true,
            "displayName": "Windows Default Config",
            "description": "Windows Default configuration",
            "inherits": [ "Ninja" ],
            "cacheVariables": {
                "TW_BUILD_OS": "Windows",
                "CMAKE_CXX_COMPILER": {
                    "type": "FILEPATH",
                    "value": "$env{LLVMInstallDir}/bin/clang-cl.exe"
                },
                "CMAKE_C_COMPILER": {
                    "type": "FILEPATH",
                    "value": "$env{LLVMInstallDir}/bin/clang-cl.exe"
                },
                "CMAKE_LINKER": {
                    "type": "FILEPATH",
                    "value": "$env{LLVMInstallDir}/bin/lld-link.exe"
                },
                "CMAKE_AR": {
                    "type": "FILEPATH",
                    "value": "$env{LLVMInstallDir}/bin/llvm-lib.exe"
                },
                "CMAKE_RANLIB": {
                    "type": "FILEPATH",
                    "value": "$env{LLVMInstallDir}/llvm-ranlib.exe"
                }
            },
            "environment": {
                "CXXFLAGS_Windows": "",
                "DEBUGFLAGS": "/Zi /Ob0 /Od /RTC1",
                "RELEASEFLAGS": "/O2 /Ob2 /DNDEBUG"

            },
            "vendor": {
                "microsoft.com/VisualStudioSettings/CMake/1.0": {
                    "hostOS": "Windows",
                    "enableClangTidyCodeAnalysis": true,
                    "clangTidyChecks": "-*, bugprone-bad-signal-to-kill-thread, bugprone-bool-pointer-implicit-conversion, bugprone-branch-clone, bugprone-copy-constructor-init, bugprone-dangling-handle, bugprone-dynamic-static-initializers, bugprone-exception-escape, bugprone-forward-declaration-namespace, bugprone-forwarding-reference-overload, bugprone-incorrect-roundings, bugprone-infinite-loop, bugprone-integer-division, bugprone-macro-parentheses, bugprone-macro-repeated-side-effects, bugprone-misplaced-operator-in-strlen-in-alloc, bugprone-misplaced-pointer-arithmetic-in-alloc, bugprone-misplaced-widening-cast, bugprone-move-forwarding-reference, bugprone-multiple-statement-macro, bugprone-not-null-terminated-result, bugprone-parent-virtual-call, bugprone-posix-return, bugprone-reserved-identifier, bugprone-signed-char-misuse, bugprone-sizeof-expression, bugprone-spuriously-wake-up-functions (cert-con36-c), bugprone-string-literal-with-embedded-nul, bugprone-suspicious-enum-usage, bugprone-suspicious-include, bugprone-suspicious-memset-usage, bugprone-suspicious-missing-comma, bugprone-suspicious-semicolon, bugprone-suspicious-string-compare, bugprone-swapped-arguments, bugprone-terminating-continue, bugprone-too-small-loop-variable, bugprone-undefined-memory-manipulation, bugprone-undelegated-constructor, bugprone-unhandled-self-assignment (cert-oop54-cpp), bugprone-unused-raii, bugprone-use-after-move, cert-dcl21-cpp, cert-dcl50-cpp, cert-err34-c, cert-err58-cpp, cert-flp30-c, cert-mem57-cpp, cert-msc50-cpp, cert-msc51-cpp, cert-oop57-cpp, cert-oop58-cpp, clang-analyzer-core.DivideZero, clang-analyzer-core.NonNullParamChecker, clang-analyzer-core.NullDereference, clang-analyzer-core.StackAddressEscape, clang-analyzer-core.UndefinedBinaryOperatorResult, clang-analyzer-core.VLASize, clang-analyzer-core.uninitialized.ArraySubscript, clang-analyzer-core.uninitialized.Assign, clang-analyzer-core.uninitialized.Branch, clang-analyzer-core.uninitialized.CapturedBlockVariable, clang-analyzer-core.uninitialized.UndefReturn, clang-analyzer-cplusplus.InnerPointer, clang-analyzer-cplusplus.NewDelete, clang-analyzer-cplusplus.NewDeleteLeaks, clang-analyzer-deadcode.DeadStores, clang-analyzer-optin.performance.Padding, clang-analyzer-optin.portability.UnixAPI, clang-analyzer-valist.CopyToSelf, clang-analyzer-valist.Uninitialized, clang-analyzer-valist.Unterminated, clang-analyzer-security.FloatLoopCounter, clang-analyzer-security.insecureAPI.DeprecatedOrUnsafeBufferHandling, clang-analyzer-core.CallAndMessage, clang-analyzer-optin.cplusplus.UninitializedObject, clang-analyzer-optin.cplusplus.VirtualCall, clang-analyzer-security.insecureAPI.UncheckedReturn, clang-analyzer-security.insecureAPI.bcmp, clang-analyzer-security.insecureAPI.bcopy, clang-analyzer-security.insecureAPI.bzero, clang-analyzer-security.insecureAPI.getpw, clang-analyzer-security.insecureAPI.gets, clang-analyzer-security.insecureAPI.mkstemp, clang-analyzer-security.insecureAPI.mktemp, clang-analyzer-security.insecureAPI.rand, clang-analyzer-security.insecureAPI.strcpy, clang-analyzer-security.insecureAPI.vfork, clang-analyzer-unix.API, clang-analyzer-unix.Malloc, clang-analyzer-unix.MallocSizeof, clang-analyzer-unix.MismatchedDeallocator, clang-analyzer-unix.Vfork, clang-analyzer-unix.cstring.BadSizeArg, clang-analyzer-unix.cstring.NullArg, cppcoreguidelines-avoid-non-const-global-variables, cppcoreguidelines-avoid-goto, cppcoreguidelines-interfaces-global-init, cppcoreguidelines-macro-usage, cppcoreguidelines-narrowing-conversions, cppcoreguidelines-no-malloc, cppcoreguidelines-pro-type-const-cast, cppcoreguidelines-pro-type-member-init, cppcoreguidelines-pro-type-reinterpret-cast, cppcoreguidelines-pro-type-static-cast-downcast, cppcoreguidelines-pro-type-vararg, cppcoreguidelines-slicing, cppcoreguidelines-special-member-functions, fuchsia-statically-constructed-objects, google-default-arguments, google-explicit-constructor, google-runtime-int, google-runtime-operator, google-upgrade-googletest-case, hicpp-avoid-goto, hicpp-multiway-paths-covered, hicpp-signed-bitwise, llvm-header-guard, misc-definitions-in-headers, misc-misplaced-const, misc-new-delete-overloads, misc-non-copyable-objects, misc-no-recursion, misc-redundant-expression, misc-static-assert, misc-unconventional-assign-operator, misc-unused-alias-decls, misc-unused-parameters, misc-unused-using-decls, modernize-deprecated-headers, modernize-pass-by-value, modernize-raw-string-literal, modernize-redundant-void-arg, modernize-return-braced-init-list, modernize-unary-static-assert, modernize-use-bool-literals, modernize-use-default-member-init, modernize-use-equals-default, modernize-use-equals-delete, modernize-use-noexcept, modernize-use-nullptr, modernize-use-override, performance-implicit-conversion-in-loop, performance-move-const-arg, performance-move-constructor-init, performance-no-automatic-move, performance-noexcept-move-constructor, performance-trivially-destructible, performance-unnecessary-copy-initialization, performance-unnecessary-value-param, readability-it-bool-conversion, readability-avoid-const-params-in-decls, readability-const-return-type, readability-convert-member-functions-to-static, readability-deleted-default, readability-delete-null-pointer, readability-else-after-return, readability-function-size, readability-inconsistent-declaration-parameter-name, readability-isolate-declaration, readability-make-member-function-const, readability-misplaced-array-index, readability-named-parameter, readability-non-const-parameter, readability-qualified-auto, readability-redundant-access-specifiers, readability-redundant-control-flow, readability-redundant-declaration, readability-redundant-function-ptr-dereference, readability-redundant-member-init, readability-redundant-preprocessor, readability-simplify-boolean-expr, readability-simplify-subscript-expr, readability-static-accessed-through-instance, readability-static-definition-in-anonymous-namespace"

                } 
            }
        },
        {
            "name": "x64",
            "hidden": true,
            "displayName": "Debug Default Config",
            "description": "Debug Default configuration",
            "cacheVariables": {
                "TW_BUILD_ARCH": "x64"
            },
            "environment": {
                "CXXFLAGS_x64": ""
            }
        },
        {
            "name": "ARM64",
            "architecture": {
                "strategy": "external",
                "value": "arm64"
            },
            "hidden": true,
            "displayName": "ARM64 Default Config",
            "description": "ARM64 Default configuration",
            "cacheVariables": {
                "TW_BUILD_ARCH": "ARM64"
            },
            "environment": {
                "CXXFLAGS_ARM64": ""
            }
        },
        {
            "name": "Windows-x64",
            "displayName": "Windows on x86_64/AMD64 Architecture",
            "description": "Windows on x86_64/AMD64 Architecture",
            "inherits": [ "Default", "Windows", "x64" ],
            "cacheVariables": {
                "CMAKE_EXE_LINKER_FLAGS": "/ignore:4099",
                "CMAKE_MODULE_LINKER_FLAGS": "",
                "CMAKE_SHARED_LINKER_FLAGS": "",
                "CMAKE_STATIC_LINKER_FLAGS": "",
                "CMAKE_CXX_FLAGS_DEBUG": "$env{CXXFLAGS_Default} $env{DEBUG}       $env{CXXFLAGS_Windows} $env{CXXFLAGS_x64} $env{CXXFLAGS_Windows_x64} $env{DEBUGFLAGS} /D_DEBUG /D_ITERATOR_DEBUG_LEVEL=2",
                "CMAKE_CXX_FLAGS_RELEASE": "$env{CXXFLAGS_Default} $env{RELEASE}     $env{CXXFLAGS_Windows} $env{CXXFLAGS_x64} $env{CXXFLAGS_Windows_x64} $env{RELEASEFLAGS}",
                "CMAKE_EXE_LINKER_FLAGS_DEBUG": "/DEBUG",
                "CMAKE_EXE_LINKER_FLAGS_RELEASE": ""
            },
            "environment": {
                "CXXFLAGS_Windows_x64": "-m64 -fdiagnostics-absolute-paths"
            },
            "vendor": {
                "microsoft.com/VisualStudioSettings/CMake/1.0": {
                    "intelliSenseMode": "windows-clang-x64"
                }
            }
        },
        {
            "name": "Windows-ARM64",
            "displayName": "Windows on arm64 Architecture",
            "description": "Windows on arm64 Architecture",
            "inherits": [ "Default", "Windows", "ARM64" ],
            "cacheVariables": {
                "CMAKE_EXE_LINKER_FLAGS": "/ignore:4099",
                "CMAKE_MODULE_LINKER_FLAGS": "",
                "CMAKE_SHARED_LINKER_FLAGS": "",
                "CMAKE_STATIC_LINKER_FLAGS": "",
                "CMAKE_CXX_FLAGS_DEBUG": "$env{CXXFLAGS_Default} $env{DEBUG}       $env{CXXFLAGS_Windows} $env{CXXFLAGS_ARM64} $env{CXXFLAGS_Windows_ARM64} $env{DEBUGFLAGS} /D_DEBUG /D_ITERATOR_DEBUG_LEVEL=2",
                "CMAKE_CXX_FLAGS_RELEASE": "$env{CXXFLAGS_Default} $env{RELEASE}     $env{CXXFLAGS_Windows} $env{CXXFLAGS_ARM64} $env{CXXFLAGS_Windows_ARM64} $env{RELEASEFLAGS}",
                "CMAKE_C_FLAGS_DEBUG": "$env{CXXFLAGS_Default} $env{DEBUG}       $env{CXXFLAGS_Windows} $env{CXXFLAGS_ARM64} $env{CXXFLAGS_Windows_ARM64} $env{DEBUGFLAGS} /D_DEBUG /D_ITERATOR_DEBUG_LEVEL=2",
                "CMAKE_C_FLAGS_RELEASE": "$env{CXXFLAGS_Default} $env{RELEASE}     $env{CXXFLAGS_Windows} $env{CXXFLAGS_ARM64} $env{CXXFLAGS_Windows_ARM64} $env{RELEASEFLAGS}",
                "CMAKE_EXE_LINKER_FLAGS_DEBUG": "/DEBUG",
                "CMAKE_EXE_LINKER_FLAGS_RELEASE": ""
            },
            "environment": {
                "CXXFLAGS_Windows_ARM64": "--target=arm64-pc-windows-msvc -fdiagnostics-absolute-paths"
            },
            "vendor": {
                "microsoft.com/VisualStudioSettings/CMake/1.0": {
                    "intelliSenseMode": "windows-clang-arm64"
                }
            }
        }
    ],
    "buildPresets": [
        {
            "name": "Windows-x64-Debug",
            "displayName": "Debug",
            "configurePreset": "Windows-x64",
            "configuration": "Debug"
        },
        {
            "name": "Windows-x64-Release",
            "displayName": "Release",
            "configurePreset": "Windows-x64",
            "configuration": "Release"
        },
        {
            "name": "Windows-ARM64-Debug",
            "displayName": "Debug",
            "configurePreset": "Windows-ARM64",
            "configuration": "Debug"
        },
        {
            "name": "Windows-ARM64-Release",
            "displayName": "Release",
            "configurePreset": "Windows-ARM64",
            "configuration": "Release"
        }
    ]
}
